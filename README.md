# Система авторизации и аутентификации

Система авторизации и аутентификации, построенная на FastAPI с использованием Redis для хранения токенов и JWT для аутентификации.

## Основные функции

- Регистрация и аутентификация пользователей
- JWT токены с поддержкой ролей
- Управление белым и черным списками токенов
- Redis для хранения данных
- Docker контейнеризация

## Требования

- Python 3.11+
- Redis
- Docker и Docker Compose (опционально)

## Установка и запуск

### Локальный запуск

1. Создайте виртуальное окружение:
```bash
python -m venv venv
source venv/bin/activate  # для Linux/Mac
venv\Scripts\activate     # для Windows
```

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

3. Запустите Redis (если не используете Docker)

4. Запустите приложение:
```bash
uvicorn app.main:app --reload
```

### Запуск через Docker

1. Соберите и запустите контейнеры:
```bash
docker-compose up --build
```

## API Endpoints

- POST `/api/v1/auth/register` - Регистрация нового пользователя
- POST `/api/v1/auth/login` - Вход в систему
- POST `/api/v1/auth/logout` - Выход из системы

## Документация API

После запуска приложения, документация Swagger UI доступна по адресу:
- http://localhost:8000/docs

## Безопасность

- Все пароли хешируются с использованием bcrypt
- JWT токены имеют ограниченное время жизни
- Поддержка черного и белого списков токенов
- Защита от основных уязвимостей